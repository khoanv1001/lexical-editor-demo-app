/* Mobile-first CSS Reset and Base Styles with Tailwind */
@import "tailwindcss";

@theme {
    --color-border-default: #e5e5e5;
    --color-button-primary-background: #1c1c1c;
    --color-text-sub: #888888;
    --color-tag-active: #0092f1;
    --color-tag-delete: #d9effd;
}

@layer base {
    :root {
        font-family:
            system,
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            Roboto,
            "Helvetica Neue",
            Arial,
            sans-serif;
        line-height: 1.5;
        font-weight: 400;

        color-scheme: light dark;
        color: #212529;
        background-color: #ffffff;

        font-synthesis: none;
        text-rendering: optimizeLegibility;
        font-family:
            "Hiragino Kaku Gothic Pro",
            system,
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            Roboto,
            "Helvetica Neue",
            Arial,
            sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;

        /* iOS specific optimizations */
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
    }

    * {
        box-sizing: border-box;
    }

    html,
    body {
        @apply m-0 p-0 w-full min-h-screen overflow-x-hidden;
    }

    #root {
        @apply w-full min-h-screen m-0 p-0;
    }

    body {
        @apply m-0 text-base bg-gray-50;
        font-size: 16px; /* Prevents zoom on iOS inputs */
    }

    a {
        @apply font-medium text-blue-500 no-underline;
    }

    /* Remove default iOS highlight */
    button,
    a {
        -webkit-tap-highlight-color: transparent;
    }

    /* Make active state work reliably */
    button:active {
        opacity: 0.8; /* Example active effect */
        transform: scale(0.97); /* Slight shrink for native feel */
    }

    /* Improve responsiveness */
    button {
        touch-action: manipulation;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        transition:
            transform 0.1s ease,
            opacity 0.1s ease;
    }

    @supports (-webkit-touch-callout: none) {
        /* This ensures active state resets after touchend */
        button,
        a {
            transition: background-color 0.05s ease; /* smooth release */
        }
    }
}

@layer utilities {
    /* Custom tag color utilities */
    .bg-tag-active {
        background-color: var(--color-tag-active);
    }

    .bg-tag-delete {
        background-color: var(--color-tag-delete);
    }

    .border-tag-active {
        border-color: var(--color-tag-active);
    }

    .text-tag-active {
        color: var(--color-tag-active);
    }

    /* Dark mode styles */
    @media (prefers-color-scheme: dark) {
        /* :root {
            color: #ffffff;
            background-color: #000000;
        }

        body {
            @apply bg-black;
        }

        a {
            @apply text-blue-500;
        }

        button {
            @apply bg-gray-800 border-gray-600 text-white;
        } */
    }

    /* Handle notch and safe areas */
    @supports (padding: max(0px)) {
        body {
            padding-top: env(safe-area-inset-top);
        }
    }
}
